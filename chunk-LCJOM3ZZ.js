import{a as Z}from"./chunk-WVNXC5BC.js";import{a as B,b as H,d as k,f as T,l as u}from"./chunk-BUJENA3A.js";import{r as j,s as z}from"./chunk-2BWHRCTH.js";import{$ as x,Fa as S,Ga as n,Ha as o,Ia as U,Nb as w,P as h,Pa as M,Pb as y,Q as _,Ra as g,Sb as O,Za as P,bb as r,cb as b,db as f,fb as d,gb as m,ha as l,ka as C,la as p,oa as D,qa as E}from"./chunk-2YVMXMI7.js";var v=class s{constructor(e,t,i){this.imageUploadService=e;this.el=t;this.renderer=i}dropZoneElement=null;dragCounter=0;ngAfterViewInit(){this.dropZoneElement=this.el.nativeElement.querySelector(".drop-zone")}onDragEnter(e){e.preventDefault(),e.stopPropagation(),this.dragCounter++,this.toggleDropZone(!0)}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.dragCounter--,this.dragCounter==0&&this.toggleDropZone(!1)}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDrop(e){e.preventDefault(),e.stopPropagation(),this.dragCounter=0,this.toggleDropZone(!1);let t=e.dataTransfer?.files[0];this.imageUploadService.handleImageUpload(t)}toggleDropZone(e){this.dropZoneElement&&(e?this.renderer.addClass(this.dropZoneElement,"visible"):this.renderer.removeClass(this.dropZoneElement,"visible"))}static \u0275fac=function(t){return new(t||s)(p(u),p(x),p(C))};static \u0275dir=E({type:s,selectors:[["","appImageUpload",""]],hostBindings:function(t,i){t&1&&g("dragenter",function(a){return i.onDragEnter(a)})("dragleave",function(a){return i.onDragLeave(a)})("dragover",function(a){return i.onDragOver(a)})("drop",function(a){return i.onDrop(a)})}})};var V=class s{constructor(e,t){this.imageStore=e;this.imageUploadService=t}demoImagePath="images/demo.jpg";demoImageFilter="contrast(1.4)";ngOnInit(){this.imageStore.reset()}onUploadImage(e){let t=e.target,i=t.files?.[0];this.imageUploadService.handleImageUpload(i),t.value=""}static \u0275fac=function(t){return new(t||s)(p(O),p(u))};static \u0275cmp=D({type:s,selectors:[["app-image-upload"]],decls:31,vars:21,consts:[["imgInput",""],["appImageUpload","",1,"container"],[1,"image-slider"],["imageObjectFit","cover",3,"beforeImage","afterImage","afterImageFilter"],[1,"image-upload-section"],[1,"title","h1"],[1,"subtitle","text"],[1,"image-upload-card",3,"click"],[1,"image-upload-card-content"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"btn","image-upload-btn"],[1,"icon"],[1,"text"],[1,"text","small"],[1,"drop-zone"],[1,"image-upload-icon"],[1,"h3"]],template:function(t,i){if(t&1){let c=M();n(0,"div",1)(1,"div",2),U(2,"app-image-slider",3),o(),n(3,"div",4)(4,"h1",5),r(5),d(6,"translate"),o(),n(7,"p",6),r(8),d(9,"translate"),o(),n(10,"mat-card",7),g("click",function(){h(c);let I=P(13);return _(I.click())}),n(11,"mat-card-content",8)(12,"input",9,0),g("change",function(I){return h(c),_(i.onUploadImage(I))}),o(),n(14,"button",10)(15,"mat-icon",11),r(16,"add_photo_alternate"),o(),r(17),d(18,"translate"),o(),n(19,"p",12),r(20),d(21,"translate"),o(),n(22,"p",13),r(23),d(24,"translate"),o()()()(),n(25,"div",14)(26,"mat-icon",15),r(27,"cloud_upload"),o(),n(28,"h3",16),r(29),d(30,"translate"),o()()()}t&2&&(l(2),S("beforeImage",i.demoImagePath)("afterImage",i.demoImagePath)("afterImageFilter",i.demoImageFilter),l(3),f(" ",m(6,9,"upload.title")),l(3),f(" ",m(9,11,"upload.subtitle")),l(9),f(" ",m(18,13,"upload.button_label")," "),l(3),f("",m(21,15,"upload.upload_info1")," "),l(3),b(m(24,17,"upload.upload_info2")),l(6),b(m(30,19,"upload.drop_image_message")))},dependencies:[v,T,k,B,H,Z,z,j,y,w],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}.image-slider[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:0}.image-upload-section[_ngcontent-%COMP%]{position:absolute;right:0;width:45%;height:100%;padding:0 30px;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:1}.image-upload-card[_ngcontent-%COMP%]{width:100%;max-width:350px;box-sizing:border-box;cursor:pointer;z-index:1;border:2px dashed #9e9e9e;background-color:#ffffff80;box-shadow:none}.image-upload-card[_ngcontent-%COMP%]:hover{border-color:#7b61ff;background-color:#ffffff4d;transition:background-color .3s ease,border-color .3s ease}.subtitle[_ngcontent-%COMP%]{margin-bottom:2rem;max-width:550px;text-align:center}.image-upload-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0}.image-upload-btn[_ngcontent-%COMP%]{background-color:#7b61ff;color:#fff;transition:background-color .3s ease}.image-upload-btn[_ngcontent-%COMP%]:hover{background-color:#6d51fc}.image-upload-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px;color:#7b61ff;margin-bottom:20px}.drop-zone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;background-color:#fafafa;transition:opacity .3s ease;cursor:pointer;opacity:0;pointer-events:none}.drop-zone.visible[_ngcontent-%COMP%]{pointer-events:all;opacity:1}"]})};export{V as ImageUploadComponent};
