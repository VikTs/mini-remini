import{a as Z}from"./chunk-JK6WWHGH.js";import{a as B,b as H,d as k,j as u,l as T}from"./chunk-6HD4RMY4.js";import{r as j,s as z}from"./chunk-CYPRICMP.js";import{$a as o,Da as S,Ea as i,Fa as n,Ga as M,Lb as y,N as h,Na as U,Nb as O,O as _,Pa as f,Qb as P,Xa as w,Z as b,ab as x,bb as s,db as l,eb as d,fa as p,ia as C,ja as m,ma as D,oa as E}from"./chunk-BUBE5SYN.js";var v=class g{constructor(e,t,a){this.imageUploadService=e;this.el=t;this.renderer=a}dropZoneElement=null;dragCounter=0;ngAfterViewInit(){this.dropZoneElement=this.el.nativeElement.querySelector(".drop-zone")}onDragEnter(e){e.preventDefault(),e.stopPropagation(),this.dragCounter++,this.toggleDropZone(!0)}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.dragCounter--,this.dragCounter==0&&this.toggleDropZone(!1)}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDrop(e){e.preventDefault(),e.stopPropagation(),this.dragCounter=0,this.toggleDropZone(!1);let t=e.dataTransfer?.files[0];this.imageUploadService.handleImageUpload(t)}toggleDropZone(e){this.dropZoneElement&&(e?this.renderer.addClass(this.dropZoneElement,"visible"):this.renderer.removeClass(this.dropZoneElement,"visible"))}static \u0275fac=function(t){return new(t||g)(m(u),m(b),m(C))};static \u0275dir=E({type:g,selectors:[["","appImageUpload",""]],hostBindings:function(t,a){t&1&&f("dragenter",function(r){return a.onDragEnter(r)})("dragleave",function(r){return a.onDragLeave(r)})("dragover",function(r){return a.onDragOver(r)})("drop",function(r){return a.onDrop(r)})}})};var V=class g{constructor(e,t){this.imageStore=e;this.imageUploadService=t}ngOnInit(){this.imageStore.reset()}onUploadImage(e){let t=e.target,a=t.files?.[0];this.imageUploadService.handleImageUpload(a),t.value=""}static \u0275fac=function(t){return new(t||g)(m(P),m(u))};static \u0275cmp=D({type:g,selectors:[["app-image-upload"]],decls:34,vars:23,consts:[["imgInput",""],["appImageUpload","",1,"container"],[1,"image-slider"],["imageObjectFit","cover",3,"beforeImage","afterImage"],[1,"image-upload-section"],[1,"title","h1"],[1,"subtitle","text"],[1,"image-upload-card",3,"click"],[1,"image-upload-card-content"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"btn","image-upload-btn"],[1,"icon"],[1,"text"],[1,"text","small","upload-info"],[1,"drop-zone"],[1,"image-upload-icon"],[1,"h3"]],template:function(t,a){if(t&1){let c=U();i(0,"div",1)(1,"div",2),M(2,"app-image-slider",3),n(),i(3,"div",4)(4,"h1",5),o(5),l(6,"translate"),n(),i(7,"p",6),o(8),l(9,"translate"),n(),i(10,"mat-card",7),f("click",function(){h(c);let I=w(13);return _(I.click())}),i(11,"mat-card-content",8)(12,"input",9,0),f("change",function(I){return h(c),_(a.onUploadImage(I))}),n(),i(14,"button",10)(15,"mat-icon",11),o(16,"add_photo_alternate"),n(),o(17),l(18,"translate"),n(),i(19,"p",12),o(20),l(21,"translate"),n(),i(22,"p",13),o(23),l(24,"translate"),n(),i(25,"p",13),o(26),l(27,"translate"),n()()()(),i(28,"div",14)(29,"mat-icon",15),o(30,"cloud_upload"),n(),i(31,"h3",16),o(32),l(33,"translate"),n()()()}t&2&&(p(2),S("beforeImage","images/sample_before.jpg")("afterImage","images/sample_after.png"),p(3),s(" ",d(6,9,"upload.title")),p(3),s(" ",d(9,11,"upload.subtitle")),p(9),s(" ",d(18,13,"upload.button_label")," "),p(3),s("",d(21,15,"upload.drag_info")," "),p(3),s("",d(24,17,"upload.upload_info1")," "),p(3),x(d(27,19,"upload.upload_info2")),p(6),x(d(33,21,"upload.drop_image_message")))},dependencies:[v,T,k,B,H,Z,z,j,O,y],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}.image-slider[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;z-index:0}.image-upload-section[_ngcontent-%COMP%]{position:absolute;right:0;width:45%;height:100%;padding:0 30px;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:1}.image-upload-card[_ngcontent-%COMP%]{width:100%;max-width:350px;box-sizing:border-box;cursor:pointer;z-index:1;border:2px dashed #9e9e9e;background-color:#ffffff80;box-shadow:none}.image-upload-card[_ngcontent-%COMP%]:hover{border-color:#7b61ff;background-color:#ffffff4d;transition:background-color .3s ease,border-color .3s ease}.subtitle[_ngcontent-%COMP%]{margin-bottom:2rem;max-width:550px;text-align:center}.image-upload-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0}.image-upload-btn[_ngcontent-%COMP%]{background-color:#7b61ff;color:#fff;transition:background-color .3s ease}.image-upload-btn[_ngcontent-%COMP%]:hover{background-color:#6d51fc}.image-upload-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px;color:#7b61ff;margin-bottom:20px}.upload-info[_ngcontent-%COMP%]{margin:0}.drop-zone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;background-color:#fafafa;transition:opacity .3s ease;cursor:pointer;opacity:0;pointer-events:none}.drop-zone.visible[_ngcontent-%COMP%]{pointer-events:all;opacity:1}"]})};export{V as ImageUploadComponent};
