import{a as z}from"./chunk-NHQ2CRS5.js";import{a as P,b as O,d as B,j as u}from"./chunk-O66C6AWP.js";import{r as k,s as H}from"./chunk-NSAM4OMM.js";import{$a as o,Ea as i,Fa as n,Lb as S,N as I,Na as U,Nb as w,O as x,Pa as f,Qb as y,Xa as M,Z as b,ab as _,bb as s,db as p,eb as d,fa as l,ia as C,ja as c,ma as D,oa as E}from"./chunk-UNVHLQD2.js";var v=class g{constructor(e,t,a){this.imageUploadService=e;this.el=t;this.renderer=a}dropZoneElement=null;dragCounter=0;ngAfterViewInit(){this.dropZoneElement=this.el.nativeElement.querySelector(".drop-zone")}onDragEnter(e){e.preventDefault(),e.stopPropagation(),this.dragCounter++,this.toggleDropZone(!0)}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.dragCounter--,this.dragCounter==0&&this.toggleDropZone(!1)}onDragOver(e){e.preventDefault(),e.stopPropagation()}onDrop(e){e.preventDefault(),e.stopPropagation(),this.dragCounter=0,this.toggleDropZone(!1);let t=e.dataTransfer?.files[0];this.imageUploadService.handleImageUpload(t)}toggleDropZone(e){this.dropZoneElement&&(e?this.renderer.addClass(this.dropZoneElement,"visible"):this.renderer.removeClass(this.dropZoneElement,"visible"))}static \u0275fac=function(t){return new(t||g)(c(u),c(b),c(C))};static \u0275dir=E({type:g,selectors:[["","appImageUpload",""]],hostBindings:function(t,a){t&1&&f("dragenter",function(r){return a.onDragEnter(r)})("dragleave",function(r){return a.onDragLeave(r)})("dragover",function(r){return a.onDragOver(r)})("drop",function(r){return a.onDrop(r)})}})};var Z=class g{constructor(e,t){this.imageStore=e;this.imageUploadService=t}ngOnInit(){this.imageStore.reset()}onUploadImage(e){let t=e.target,a=t.files?.[0];this.imageUploadService.handleImageUpload(a),t.value=""}static \u0275fac=function(t){return new(t||g)(c(y),c(u))};static \u0275cmp=D({type:g,selectors:[["app-image-upload"]],decls:32,vars:21,consts:[["imgInput",""],["appImageUpload","",1,"container"],[1,"image-upload-section"],[1,"title","h1"],[1,"subtitle","text"],[1,"image-upload-card",3,"click"],[1,"image-upload-card-content"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"btn","image-upload-btn"],[1,"icon"],[1,"text"],[1,"text","small","upload-info"],[1,"drop-zone"],[1,"image-upload-icon"],[1,"h3"]],template:function(t,a){if(t&1){let m=U();i(0,"div",1)(1,"div",2)(2,"h1",3),o(3),p(4,"translate"),n(),i(5,"p",4),o(6),p(7,"translate"),n(),i(8,"mat-card",5),f("click",function(){I(m);let h=M(11);return x(h.click())}),i(9,"mat-card-content",6)(10,"input",7,0),f("change",function(h){return I(m),x(a.onUploadImage(h))}),n(),i(12,"button",8)(13,"mat-icon",9),o(14,"add_photo_alternate"),n(),o(15),p(16,"translate"),n(),i(17,"p",10),o(18),p(19,"translate"),n(),i(20,"p",11),o(21),p(22,"translate"),n(),i(23,"p",11),o(24),p(25,"translate"),n()()()(),i(26,"div",12)(27,"mat-icon",13),o(28,"cloud_upload"),n(),i(29,"h3",14),o(30),p(31,"translate"),n()()()}t&2&&(l(3),s(" ",d(4,7,"upload.title")),l(3),s(" ",d(7,9,"upload.subtitle")),l(9),s(" ",d(16,11,"upload.button_label")," "),l(3),s("",d(19,13,"upload.drag_info")," "),l(3),s("",d(22,15,"upload.upload_info1")," "),l(3),_(d(25,17,"upload.upload_info2")),l(6),_(d(31,19,"upload.drop_image_message")))},dependencies:[v,B,P,O,z,H,k,w,S],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;position:relative;background-color:#d4c9e7}.image-upload-section[_ngcontent-%COMP%]{position:absolute;right:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:1}.image-upload-card[_ngcontent-%COMP%]{width:100%;max-width:350px;box-sizing:border-box;cursor:pointer;z-index:1;border:2px dashed #9e9e9e;background-color:#ffffff80;box-shadow:none}.image-upload-card[_ngcontent-%COMP%]:hover{border-color:#7b61ff;background-color:#ffffff4d;transition:background-color .3s ease,border-color .3s ease}.subtitle[_ngcontent-%COMP%]{margin-bottom:2rem;max-width:550px;text-align:center}.image-upload-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0}.image-upload-btn[_ngcontent-%COMP%]{background-color:#7b61ff;color:#fff;transition:background-color .3s ease}.image-upload-btn[_ngcontent-%COMP%]:hover{background-color:#6d51fc}.image-upload-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px;color:#7b61ff;margin-bottom:20px}.upload-info[_ngcontent-%COMP%]{margin:0}.drop-zone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;background-color:#fafafa;transition:opacity .3s ease;cursor:pointer;opacity:0;pointer-events:none}.drop-zone.visible[_ngcontent-%COMP%]{pointer-events:all;opacity:1}"]})};export{Z as ImageUploadComponent};
